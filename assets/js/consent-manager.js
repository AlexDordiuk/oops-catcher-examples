class j{storageKey="oops-catcher-consent";consentState=null;constructor(){this.loadConsent()}loadConsent(){try{let b=localStorage.getItem(this.storageKey);this.consentState=b?JSON.parse(b):null}catch(b){console.warn("Failed to load consent:",b),this.consentState=null}}saveConsent(){if(!this.consentState)return;try{localStorage.setItem(this.storageKey,JSON.stringify(this.consentState))}catch(b){console.warn("Failed to save consent:",b)}}grantConsent(b={}){this.consentState={granted:!0,timestamp:new Date().toISOString(),preferences:{userAgent:!0,platform:!0,screenResolution:!0,viewport:!0,online:!0,cookiesEnabled:!0,pixelRatio:!0,language:b.language??!0,timezone:b.timezone??!0,memory:b.memory??!0,cores:b.cores??!0,touchSupport:b.touchSupport??!0,colorDepth:b.colorDepth??!0}},this.saveConsent()}revokeConsent(){this.consentState=null;try{localStorage.removeItem(this.storageKey)}catch(b){console.warn("Failed to remove consent:",b)}}hasConsent(){return this.consentState?.granted??!1}getConsentState(){return this.consentState}isFieldAllowed(b){if(!this.hasConsent())return!1;let g=this.consentState?.preferences;if(!g)return!1;if(["userAgent","platform","screenResolution","viewport","online","cookiesEnabled","pixelRatio"].includes(b))return!0;return g[b]??!1}}export{j as ConsentManager};

//# debugId=4CA4AD42D8111E4E64756E2164756E21
